'use strict';
const expect = require('must');
const fs = require('fs');

const questions = require('./dummydata/test-questions.json');
const twitterusers = require('./dummydata/test-twitterusers.json');
const twitteravatar = require('../server/twitteravatar');

describe('the twitteravatar module', () => {

  it('collects the names for the twitter query', () => {
    const twitterAPI = {
      getUserInfos: (names) => {
        expect(names).to.eql('Deborahh,didierkoc,k_ravlani,mfloryan,philagile,vinylbaustein,yveshanoulle');
      }
    };
    twitteravatar(twitterAPI, JSON.stringify(questions));
  });

  it('parses the result from twitter correctly', (done) => {
    const twitterAPI = {getUserInfos: () => {}};
    twitteravatar(twitterAPI, JSON.stringify(questions)).extractUrlsFromRaw(JSON.stringify(twitterusers), (err, result) => {
      expect(result).to.eql({
        '@leiderleider': {
          realname: 'Leider\'s real name',
          image: 'data:image/jpeg;base64,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Rk51bWJlcj4zMy8xMDwvZXhpZjpGTnVtYmVyPgogICAgICAgICA8ZXhpZjpFeHBvc3VyZVByb2dyYW0+MzwvZXhpZjpFeHBvc3VyZVByb2dyYW0+CiAgICAgICAgIDxleGlmOkRhdGVUaW1lT3JpZ2luYWw+MjAxMS0wMi0yMFQxOTozMzowODwvZXhpZjpEYXRlVGltZU9yaWdpbmFsPgogICAgICAgICA8ZXhpZjpEYXRlVGltZURpZ2l0aXplZD4yMDExLTAyLTIwVDE5OjMzOjA4PC9leGlmOkRhdGVUaW1lRGlnaXRpemVkPgogICAgICAgICA8ZXhpZjpFeHBvc3VyZUJpYXNWYWx1ZT4tNi82PC9leGlmOkV4cG9zdXJlQmlhc1ZhbHVlPgogICAgICAgICA8ZXhpZjpNYXhBcGVydHVyZVZhbHVlPjMwLzEwPC9leGlmOk1heEFwZXJ0dXJlVmFsdWU+CiAgICAgICAgIDxleGlmOk1ldGVyaW5nTW9kZT41PC9leGlmOk1ldGVyaW5nTW9kZT4KICAgICAgICAgPGV4aWY6TGlnaHRTb3VyY2U+MDwvZXhpZjpMaWdodFNvdXJjZT4KICAgICAgICAgPGV4aWY6Rm9jYWxMZW5ndGg+NTAwLzEwPC9leGlmOkZvY2FsTGVuZ3RoPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjE5MDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xOTA8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpDdXN0b21SZW5kZXJlZD4wPC9leGlmOkN1c3RvbVJlbmRlcmVkPgogICAgICAgICA8ZXhpZjpFeHBvc3VyZU1vZGU+MDwvZXhpZjpFeHBvc3VyZU1vZGU+CiAgICAgICAgIDxleGlmOldoaXRlQmFsYW5jZT4wPC9leGlmOldoaXRlQmFsYW5jZT4KICAgICAgICAgPGV4aWY6RGlnaXRhbFpvb21SYXRpbz4xLzE8L2V4aWY6RGlnaXRhbFpvb21SYXRpbz4KICAgICAgICAgPGV4aWY6Rm9jYWxMZW5ndGhJbjM1bW1GaWxtPjc1PC9leGlmOkZvY2FsTGVuZ3RoSW4zNW1tRmlsbT4KICAgICAgICAgPGV4aWY6U2NlbmVDYXB0dXJlVHlwZT4wPC9leGlmOlNjZW5lQ2FwdHVyZVR5cGU+CiAgICAgICAgIDxleGlmOkNvbnRyYXN0PjA8L2V4aWY6Q29udHJhc3Q+CiAgICAgICAgIDxleGlmOlNhdHVyYXRpb24+MDwvZXhpZjpTYXR1cmF0aW9uPgogICAgICAgICA8ZXhpZjpTaGFycG5lc3M+MDwvZXhpZjpTaGFycG5lc3M+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAAwADADASEAAhEBAxEB/8QAGgAAAgMBAQAAAAAAAAAAAAAACAkFBgcKAv/EAC0QAAEFAAEDBAEDAwUAAAAAAAQBAgMFBgcIERIAExQhMQkVQSIjgRYYcZHR/8QAGgEBAAIDAQAAAAAAAAAAAAAABwQGAwUIAf/EAC8RAAICAQMCBAQGAwEAAAAAAAECAwQFBhESBxMAITFBFCIyURUWI2FxsTOBofD/2gAMAwEAAhEDEQA/AOVHoZ4R5i50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'
        },
        '@retroflection': {
          realname: 'Retro Retro',
          image: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQECAgMCAgICAgQDAwIDBQQFBQUEBAQFBgcGBQUHBgQEBgkGBwgICAgIBQYJCgkICgcICAj/2wBDAQEBAQICAgQCAgQIBQQFCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAj/wAARCAAwADADAREAAhEBAxEB/8QAGwAAAgIDAQAAAAAAAAAAAAAABwkGCAMEBQr/xAAvEAABAwQCAQMDAwMFAAAAAAABAgMEBQYHEQgSEwAhIhQxQQkyURUXIyRSYWJx/8QAHAEAAgMBAQEBAAAAAAAAAAAABAYFBwgCAwAJ/8QANhEAAgECBQIEAgkDBQAAAAAAAQIDBBEABQYSIQcxEyJBYVGBCBQjMkKRodHwFXGxNFJicuH/2gAMAwEAAhEDEQA/APJtZOYrzocT6xtinustIK1eZ9QGgPyog6/j1X0tKrNbnDFC77bm2CDV7khXnVnrouKgrYqMlpkGEtSVOthKANOLCR0H/XXb+QPUxSZQ8ZsX49v5xharc0jk+5Hdvif/ADk4k1iVOLatYcuG2YMK36uGVsiRHSVOpbVoqSFuFWgeqd619vR9TCGXaRce/OIeJpVuwax9uMMGyjQb/wAT0e2bi/unBuWm1JlpxtpS2BJQVNhewz8u7f47g+3tv7+or6rG3DIPyGNY9ePo5z6Ky+jzanzRKmKoVTt3BZQWXdcJuffGO29Txxccg4Blbyo5W6LU6HcdPg1GPIjuMl1keJxHZJGynfVWtg6+P/o9cR5PDvDp5SOeP2xlz+uzgbXswPy/Ufthb15Qq1bMutV6qvx63G/dGUwlXidkH2QhwEbZA/hXsQnSSr0wyhreX88D0c0chtexHp/PTEtxFjC8MpVSsR7QgQZLVJjGWhL8pDKSErSgv/P9yu6whCfwdq9tA+oqkRUHiv8ALFxaE6XZ7rCply/IY1doU3tudU8two5Yi5JIAH52w2jh9ZvC3Flcq1tc3LLp1SviIlyrQXZFVfepVWgORlERSlpSUty0LbX17p2tSxogpAJniO/MfbFrwdNMl0fXSZPriFfriqJFIcvGyOpsPLYBwQeCLk9j2xw+C1Y48WjkS67hz3xyvLJNiqSuo06pRKPJrLVpRWlueVyRABDUptKXWkqdc7hstglCu3o14GfhcVN03q8npaqSbNKMyp3U2LBLE3uvZhYgEm9rdsYceciOK2OeUmYKo9g2i5U43Tqw/Io6Z1HEiZQaa1ILjT7UVWurZSR3aUU6T0GwAUqKbLX2gg84+07qnTtNnNW1VSCSkckqdtzGAbgqD+H4jji39iFOS1Jv2v3rkXOFKwLOwhhOr1ZDlu05stfR0uLISpyMwkIPxK0fIgDqlZUga0E+iKqNJNrL3UWOIrX/AEj1LliS55W5e9NRSupQnbttINyABWPcfAWB8pseMbmWcIcZ4fDe1uQ2Ls7XHW8qLqUOg3BZ1aRDQ61LcQVSQ3HSPKqOnXZDhK0LR9yFewjYpZBJ4ZHlwTn2gdOJpOPPctrGNXuVXjbaDuP3rAAMAO4NyCP0rPxvt3KNQv6KjDaGjdMCE48Q6822yuMnqHEO+TSFpWVhPQ/cqGtEAgIqNoVsOH0f8s1fUai8bRP+rhRnN2UKYwQGV95CsrEqu09za1iLh8nFrlRgfj9Q6+/yXwlQoPIVujVd92azT4sw3VElIX4oqXAhxUd0aSx9OtSWujYUCCV76pUViAh4xe2udR1uVVss2u6ZYs2mQycbG3o9wqDYW2WtsEZPAF7m5uLeO/6sd44S4fXjxwdshmddDNDn29aNYZKEx4UKYVhxMxskEqYS84W1oB8nwS4B17lkFJaXevbGdcs6r+FkTZXJHd1FkI7AE+v/AFvwfXi/xxPeDnLi4pXG24+Dti4AYvzkRPoVWtmxXGGmGE1FiYla3ROW860EKjoU697hYkJbQFAFAV69npftAx7HB+j9ZyHKHyWKC9SqsF4UXVu+69jwDf8A5DFf6jxW50XPXLF4xZxw3lebiy0bshUC6KjZ1ObqtQSDHbdQS60txEksxn21pWEEALHYqX1T64aFY7le59MM+otaaw1JltFpfPg31KldVZ0W7sAPJva5DeGh8p2j4tdgMCf9TThvg7ik9gO3MTXbdF1XXXaBMq9ZVUpkeQXY4kJbiym0stoDKXSJI8fyH+Hf33uPUkjcRbFW9VNG5dkskFPQyl2YEtex4uLHgcX549v74BPBKzrvk5Tpl1WjXrdjR40b/XsS1OBU6I+khbaAgfE+wIcJCUrSj32QDFVCEIG/3dsab+g5pbOJ9VPm2WTRpHSgCZXJ3PFISGCqvP4QQ5IVWC9ybFkONLVxDSssZ9pfImm23eVQKadWoE2psGQGoIZKgw0GVA9kKKEqCD80j32N+vehTZGG23H58/L440NXZXpmo1rntDrVop5j4UySSgALAEvtXnjwhYMFPnHJB5xAePaKZZWesiZttrDt+SOM8Vb1Nrc2FRnpjFswZC0Ft15ZStDaStpKi2o7DayBvQ2xRxlwA3FvzxkXpp1NyLIdbVua0FNbKZt8Yupbw0YqVYg3NrrcryQptza2J5QclVjIH6idtZewLPtmjv2/PYnUWRXQ61HqkeEjq4Hw2ku6fSt5OgOwbVs6669GSRKq27AYIzDN6jqF1LlmyB0UbLKz3AZYksxsBuu1zbi4WxPa2Dzd3OPlfwizLnW9ckUXHl/XRk5T940yDFqDqoNp1faY7Si2tsF5lphuO34viHQyysOJIWD5GnEjhvUYgeoMuf6ClNNmhSU1a+ImxiQpB2kG4B44HHDW4PfCLbEuCiTc10q/MzwKxftFVPfqFYCgHFzHnFLcKnElSNpU6tRUlJSdLUU+4AImbRHwSqmxP6+3P+cZUocx8WtE9Tdvj7e/p2PpxiIYHrFyWdM+nptSmUW6aS4Y5dYV1UppX7Tr7KQR7EEEEa2PUbQVEc0IjYXt/jFhad1Vmun8xXMsonaCdezKbGx7gjsyn1VgQfUYe9x4ZxHlfDV2ZCyZamPpt9UWoLcrU2ZH8S1tfFEdaG2wB4/GlTSWh8S4knXY79Gxl0BEPGP0K6TZho/WORyag1lDDJVU7M1Q7qB5QPsyALDYUsqp2LqbDccNk/Tk5C8e7Q49zcb2/YtyC5lVKpzLrpMlkSIlRYmu+FBQt1zxrb+kQxHLJSFfBRPbezLVELkhyewxnLo1pai1M9bR5WohjUtJte58rMdi35/DYXPa3PxKdbs4t5atTK15XpinGdxUWhUCNNuynusPsSl0mkNvK+bjyCEO+FtaGnNA72Ro9vdmSjSeLew8p4v7+2KAzqh1B071NDK48CpS0sfmDAqSRyRwQbFWB9x6g42K7iu0OUmI8k8gsrXXfH9xaRQ5CI7UR1H9PpP0zjvjZDXjI8bm2yezncl0rGyoaV2qQheLabr69/mfTn5fPGxNTdN8o1rpF+oOZ1jGqaJzsUqIoXjLHwlWxNjdfvMWO7dfnhSF20CPSGg2wotNdggJ6/k/yfyfUBPIW5Y84wCkIUDaLY49r2dLuz+nXLbTbLt0xEeNUVSuqamx+Wifwv8A2q/n29I0FcYJbn7uLCqKETR3Xvi5OJKC7cKUwqWxcEeb2DcqOdh1t0EEocaP2KT76P8AwfTzQVasAVJwnzmWIMl7A9xzzY3F/jY8i/Y84vhiS7rx4/12u1uBSadXWpcFUV+FUWlMtpX3Cm3Apv32hSd6H32fcex9TwlYL5jx7j9sP/SXqzUaTrpqumiEniptKlrC4IKnsex7j1BPIwRsQcx74lXMqwsqVW3FWRU6kt52T9N41surbbQhla97XDHVQDaiQlTq1EnsT65GZybQhbyg/wAP74vXof1igrtZTVWrVST68ng73UbY+fIig3Cxn7p9yCx7nAZ51Zqt24L8uC1cSKNLsJUSBSaquldG4lfkMveTsptOgsNbDaV69+n3KdevswqQfKo445+OEvr11AinzWbLcjk2UoUJIE4SR0JNyBwdnChh3ta5UDChMrVSnxZwjwJcyW4gpW8HmPH4l/lAGzvXt7/b0uVTgNtGM6oCRc4//9kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA='
        }
      });
      done(err);
    });
  });

  it('encodes retrieved jpgs with base64', (done) => {
    const twitterAPI = {getUserInfos: () => {}};
    const leiderleider = twitterusers[0];
    twitteravatar(twitterAPI, '[]').loadImage(leiderleider, (err, result) => {
      expect(result).to.match('4AAQSkZJRgABAQEBLAEsAAD');
      fs.readFile('test/dummydata/AndreasPlayfulWithRibbon_normal.jpg', function (err1, data) {
        expect(result).to.eql(new Buffer(data).toString('base64'));
        done(err);
      });
    });
  });
});
